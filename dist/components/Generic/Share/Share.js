"use client";import{jsx as e,jsxs as r}from"react/jsx-runtime";import{useEffect as t,useState as i}from"react";import{FaShareFromSquare as o}from"react-icons/fa6";import{networks as s}from"./ShareNetwork.js";import{ShareNetworkIcon as c}from"./ShareNetworkIcon.js";import{listenWindowEvent as a}from"../../../services/EventService.js";import{listenMutationObserver as m}from"../../../services/MutationService.js";import{twMerge as n}from"../../../services/TailwindMergeService.js";import{getSimplifiedUrl as l}from"../../../services/UrlService.js";export function Share({text:d="Share",title:p,url:f,networks:u=Object.keys(s),networkClassName:h,className:v,onShare:j}){let[g,w]=i(p??""),[S,k]=i(f??"");return t(()=>{if(void 0===p)return m(document.querySelector("title"),{childList:!0},()=>{w(document.title)})},[p]),t(()=>{if(void 0===f)return a("popstate",()=>{k(l())})},[f]),r("div",{"data-component":"Share",className:n("bg-theme-100 text-theme-500 grid grid-cols-[1fr_auto] justify-between rounded p-2 shadow",v),children:[r("div",{className:"grid grid-cols-[auto_1fr] items-center",children:[e(o,{className:"size-5 mx-2"}),e("p",{children:d})]}),e("div",{className:"grid grid-cols-[repeat(var(--networks-count),1fr)] gap-2 text-white",style:{"--networks-count":u.length},children:u.map(r=>e(c,{network:s[r],title:g,url:S,className:h,onClick:()=>{j?.(r,S,g)}},r))})]})}