"use client";import{jsx as e,jsxs as r}from"react/jsx-runtime";import{useCallback as t,useEffect as n,useMemo as i,useRef as o,useState as a}from"react";import{FaBars as s,FaXmark as c}from"react-icons/fa6";import{listenWindowEvent as l}from"../../../services/EventService.js";import{useImmediateRef as m}from"../../../services/hooks/useImmediateRef.js";import{promisePortal as d}from"../../../services/PortalService.js";import{twMerge as v}from"../../../services/TailwindMergeService.js";export function HeaderNav({navClassName:u,listClassName:f,children:p,icon:h=e(s,{}),iconClassName:g,closedIcon:x=e(c,{}),closedIconClassName:j,openedModalContent:y}){let b=o(null),[N,w]=a(!0),[k,S]=a(!1),z=o(null),E=t(()=>{S(r=>(r?(z.current?.(),z.current=null):d(r=>(z.current=r,e("div",{className:"contents","data-overlay":!0,children:y(r)}))).then(()=>{S(!1)}),!r))},[y]),H=m(E),W=m(k);n(()=>{let e=l(["resize","transitionend"],e=>{"resize"===e.type&&W.current&&H.current(),w(b.current.scrollWidth>b.current.clientWidth)}),r=l("click",e=>{e.target instanceof Element&&"A"===e.target.tagName&&e.target.closest("[data-overlay]")&&H.current()},!1);return()=>{e(),r()}},[H,W]);let A=i(()=>N||k,[N,k]);return r("nav",{ref:b,"data-forcing-overlay":k||void 0,"data-component":"HeaderNav",className:v("overflow-hidden text-nowrap relative flex",u),children:[e("ul",{className:v("flex items-center justify-between gap-x-6 flex-nowrap transition",A&&"opacity-0 pointer-events-none",f),children:p}),e("div",{className:v("transition select-none absolute right-0 inset-y-0 flex items-center justify-center",!A&&"opacity-0 pointer-events-none",g,k&&j),onClick:()=>{E()},children:e("div",{className:"border-theme-200 bg-theme-200/50 active:bg-theme-300/50 hover:border-theme-300 active:border-theme-400 cursor-pointer rounded-full border p-2 transition",children:k?x:h})})]})}