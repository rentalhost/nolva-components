"use client";import{jsx as e,jsxs as r}from"react/jsx-runtime";import{useCallback as t,useEffect as n,useMemo as i,useRef as o,useState as s}from"react";import{FaBars as a,FaXmark as c}from"react-icons/fa6";import{listenWindowEvent as l}from"../../../services/EventService.js";import{useImmediateRef as m}from"../../../services/hooks/useImmediateRef.js";import{useReady as d}from"../../../services/hooks/useReady.js";import{promisePortal as u}from"../../../services/PortalService.js";import{twMerge as v}from"../../../services/TailwindMergeService.js";export function HeaderNav({navClassName:f,listClassName:p,children:h,icon:g=e(a,{}),iconClassName:j,closedIcon:x=e(c,{}),closedIconClassName:y,openedModalContent:b}){let N=d(),w=o(null),[k,S]=s(!0),[z,E]=s(!1),H=o(null),R=t(()=>{E(r=>(r?(H.current?.(),H.current=null):u(r=>(H.current=r,e("div",{className:"contents","data-overlay":!0,children:b(r)}))).then(()=>{E(!1)}),!r))},[b]),W=m(R),A=m(z);n(()=>{if(!N)return;let e=l(["resize","transitionend"],e=>{"resize"===e.type&&A.current&&W.current(),S(w.current.scrollWidth>w.current.clientWidth)}),r=l("click",e=>{e.target instanceof Element&&"A"===e.target.tagName&&e.target.closest("[data-overlay]")&&W.current()},!1);return()=>{e(),r()}},[W,N,A]);let C=i(()=>k||z,[k,z]);return N&&r("nav",{ref:w,"data-forcing-overlay":z||void 0,"data-component":"HeaderNav",className:v("overflow-hidden text-nowrap relative flex",f),children:[e("ul",{className:v("flex items-center justify-between gap-x-6 flex-nowrap transition",C&&"opacity-0 pointer-events-none",p),children:h}),e("div",{className:v("transition select-none absolute right-0 inset-y-0 flex items-center justify-center",!C&&"opacity-0 pointer-events-none",j,z&&y),onClick:()=>{R()},children:e("div",{className:"border-theme-200 bg-theme-200/50 active:bg-theme-300/50 hover:border-theme-300 active:border-theme-400 cursor-pointer rounded-full border p-2 transition",children:z?x:g})})]})}