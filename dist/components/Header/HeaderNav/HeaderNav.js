"use client";import{jsx as e,jsxs as r}from"react/jsx-runtime";import{useCallback as t,useLayoutEffect as n,useMemo as i,useRef as o,useState as s}from"react";import{FaBars as a,FaXmark as c}from"react-icons/fa6";import{twMerge as l}from"tailwind-merge";import{useImmediateRef as m}from"../../../services/hooks/useImmediateRef.js";import{promisePortal as d}from"../../../services/PortalService.js";export function HeaderNav({navClassName:u,listClassName:v,children:f,icon:p=e(a,{}),iconClassName:h,closedIcon:x=e(c,{}),closedIconClassName:b,openedModalContent:j}){let y=o(null),[g,w]=s(!1),[N,E]=s(!1),L=o(null),z=t(()=>{E(e=>(e?(L.current?.(),L.current=null):d(e=>(L.current=e,j(e))).then(()=>{E(!1)}),!e))},[j]),k=m(z),W=m(N);n(()=>{function e(e){e?.type==="resize"&&W.current&&k.current(),w(y.current.scrollWidth>y.current.clientWidth)}return addEventListener("resize",e),addEventListener("transitionend",e),e(),()=>{removeEventListener("resize",e),removeEventListener("transitionend",e)}},[k,W]);let C=i(()=>g||N,[g,N]);return r("nav",{ref:y,"data-forcing-overlay":N||void 0,className:l("overflow-hidden text-nowrap relative flex",u),children:[e("ul",{className:l("flex items-center justify-between gap-x-6 flex-nowrap transition",C&&"opacity-0 pointer-events-none",v),children:f}),e("div",{className:l("transition select-none absolute right-0 inset-y-0 flex items-center justify-center",!C&&"opacity-0 pointer-events-none",h,N&&b),onClick:()=>{z()},children:e("div",{className:"border-theme-200 bg-theme-200/50 active:bg-theme-300/50 hover:border-theme-300 active:border-theme-400 cursor-pointer rounded-full border p-2 transition",children:N?x:p})})]})}