"use client";import{jsx as e,jsxs as r}from"react/jsx-runtime";import{useCallback as t,useEffect as n,useMemo as i,useRef as o,useState as a}from"react";import{FaBars as s,FaXmark as c}from"react-icons/fa6";import{twMerge as l}from"tailwind-merge";import{listenWindowEvent as m}from"../../../services/EventService.js";import{useImmediateRef as d}from"../../../services/hooks/useImmediateRef.js";import{promisePortal as u}from"../../../services/PortalService.js";export function HeaderNav({navClassName:v,listClassName:f,children:p,icon:h=e(s,{}),iconClassName:g,closedIcon:x=e(c,{}),closedIconClassName:y,openedModalContent:b}){let j=o(null),[N,w]=a(!1),[k,z]=a(!1),E=o(null),H=t(()=>{z(r=>(r?(E.current?.(),E.current=null):u(r=>(E.current=r,e("div",{className:"contents","data-overlay":!0,children:b(r)}))).then(()=>{z(!1)}),!r))},[b]),S=d(H),W=d(k);n(()=>{let e=m(["resize","transitionend"],e=>{"resize"===e.type&&W.current&&S.current(),w(j.current.scrollWidth>j.current.clientWidth)}),r=m("click",e=>{e.target instanceof Element&&"A"===e.target.tagName&&e.target.closest("[data-overlay]")&&S.current()},!1);return()=>{e(),r()}},[S,W]);let A=i(()=>N||k,[N,k]);return r("nav",{ref:j,"data-forcing-overlay":k||void 0,"data-component":"HeaderNav",className:l("overflow-hidden text-nowrap relative flex",v),children:[e("ul",{className:l("flex items-center justify-between gap-x-6 flex-nowrap transition",A&&"opacity-0 pointer-events-none",f),children:p}),e("div",{className:l("transition select-none absolute right-0 inset-y-0 flex items-center justify-center",!A&&"opacity-0 pointer-events-none",g,k&&y),onClick:()=>{H()},children:e("div",{className:"border-theme-200 bg-theme-200/50 active:bg-theme-300/50 hover:border-theme-300 active:border-theme-400 cursor-pointer rounded-full border p-2 transition",children:k?x:h})})]})}