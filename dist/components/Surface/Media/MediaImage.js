"use client";import{jsx as e}from"react/jsx-runtime";import{getNextImageUrl as t,twMerge as r}from"@rentalhost/nolva-core";import{useEffect as o,useMemo as a,useRef as i,useState as s}from"react";import{listenResizeObserver as n}from"../../../services/MutationService.js";export const allowedExtensions=["jpg","jpeg","png","webp","gif"];export function MediaImage({src:c,alt:l,quality:m,priority:p=!1,spot:A,className:g}){let d=i(null),[f,u]=s(0),{src:h,srcSet:x,sizes:j}=a(()=>0===f?{src:"data:image/webp;base64,UklGRhYAAABXRUJQVlA4TAoAAAAvAAAAAEX/I/of"}:t(c,f,m),[m,c,f]);return o(()=>n(d.current,{},()=>{u(e=>Math.max(d.current.clientWidth,e))},!1),[]),e("img",{ref:d,src:h,srcSet:x,sizes:j,width:f,height:0,alt:l,loading:p?"eager":"lazy","data-component":"MediaImage",className:r("w-full",void 0!==A&&"object-(--spot)",g),style:{"--spot":A&&`${A.x}% ${A.y}%`}})}