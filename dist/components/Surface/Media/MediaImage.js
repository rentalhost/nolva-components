"use client";import{jsx as t}from"react/jsx-runtime";import{twMerge as e}from"@rentalhost/nolva-core";import o from"next/image";import{useEffect as r,useRef as i,useState as a}from"react";import{listenResizeObserver as n}from"../../../services/MutationService.js";export const allowedExtensions=["jpg","jpeg","png","webp","gif"];export function MediaImage({src:m,alt:s,quality:l,priority:p,unoptimized:c,spot:A,className:u}){let f=i(null),[d,g]=a(0);return r(()=>n(f.current,{},()=>{g(t=>Math.max(f.current.clientWidth,t))},!1),[]),t(o,{ref:f,src:0===d?"data:image/webp;base64,UklGRhYAAABXRUJQVlA4TAoAAAAvAAAAAEX/I/of":m,width:d,height:0,alt:s,quality:l,priority:p,unoptimized:c,"data-component":"MediaImage",className:e("w-full",void 0!==A&&"object-(--spot)",u),style:{"--spot":A&&`${A.x}% ${A.y}%`}})}