"use client";import{jsx as e}from"react/jsx-runtime";import t from"next/image";import{useLayoutEffect as r,useRef as i,useState as o}from"react";import{twMerge as a}from"tailwind-merge";import{listenResizeObserver as m}from"../../../services/MutationService.js";export const allowedExtensions=["jpg","png","webp"];export function MediaImage({src:n,alt:l,quality:s,unoptimized:A,className:c}){let p=i(null),[u,f]=o(0);return r(()=>m(p.current,{},()=>{f(e=>Math.max(p.current.clientWidth,e))},!1),[]),e(t,{ref:p,src:0===u?"data:image/webp;base64,UklGRhYAAABXRUJQVlA4TAoAAAAvAAAAAEX/I/of":n,width:u,height:0,alt:l,quality:s,unoptimized:A,className:a("w-full",c)})}