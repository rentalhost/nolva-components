"use client";import{jsx as e,Fragment as r,jsxs as o}from"react/jsx-runtime";import{useEffect as t,useMemo as s,useRef as i,useState as c}from"react";import{createPortal as m}from"react-dom";import{listenWindowEvent as n}from"../../../services/EventService.js";import{useReady as l}from"../../../services/hooks/useReady.js";import{clamp as a}from"../../../services/NumberService.js";import{twMerge as d}from"../../../services/TailwindMergeService.js";export function ScrollProgress({className:p,progressClassName:g,children:f,onProgress:u,onCompleted:v}){let h=i(null),j=l(),[S,x]=c(0);t(()=>{if(j)return n(["scroll","resize"],()=>{let e=h.current.getBoundingClientRect(),r=1/e.height*a(window.innerHeight-e.top,0,e.height);x(r),u?.(r),1===r&&v?.()})},[j,v,u]);let w=s(()=>e("div",{"data-component":"ScrollProgressBar",className:d("fixed top-0 left-0 h-1 w-(--progress) bg-theme-400",g),style:{"--progress":`${100*S}%`}}),[S,g]);return j&&o(r,{children:[m(w,document.body),e("div",{ref:h,"data-completed":1===S||void 0,"data-component":"ScrollProgress",className:p,children:f})]})}