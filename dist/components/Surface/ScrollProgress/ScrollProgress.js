"use client";import{jsx as e,Fragment as r,jsxs as o}from"react/jsx-runtime";import{useEffect as t,useMemo as s,useRef as i,useState as c}from"react";import{createPortal as m}from"react-dom";import{listenWindowEvent as l}from"../../../services/EventService.js";import{useReady as n}from"../../../services/hooks/useReady.js";import{clamp as a}from"../../../services/NumberService.js";import{twMerge as d}from"../../../services/TailwindMergeService.js";export function ScrollProgress({className:p,progressClassName:f,children:g,onProgress:v,onCompleted:u}){let h=i(null),j=n(),[S,x]=c(0);t(()=>{if(j)return l(["scroll","resize"],()=>{let e=h.current?.getBoundingClientRect();if(void 0!==e){let r=1/e.height*a(window.innerHeight-e.top,0,e.height);x(r),v?.(r),1===r&&u?.()}})},[j,u,v]);let w=s(()=>e("div",{"data-component":"ScrollProgressBar",className:d("fixed top-0 left-0 h-1 w-(--progress) bg-theme-400",f),style:{"--progress":`${100*S}%`}}),[S,f]);return j&&o(r,{children:[m(w,document.body),e("div",{ref:h,"data-completed":1===S||void 0,"data-component":"ScrollProgress",className:p,children:g})]})}