"use client";import{useCallback as e,useRef as n,useState as t}from"react";export function useInViewport(r="25px",o=!1){let[i,c]=t(!1),u=n(null),l=e(()=>{u.current?.disconnect(),u.current=null},[]),s=e(e=>o&&e.top<0,[o]);return{ref:e(e=>{if(l(),e instanceof HTMLElement){let n=new IntersectionObserver(([e])=>{c(e.isIntersecting||s(e.boundingClientRect))},"number"==typeof r?{threshold:r}:{threshold:0,rootMargin:`0px 0px -${r} 0px`});n.observe(e),u.current=n,s(e.getBoundingClientRect())&&c(!0)}},[l,r,s]),visible:i,disconnect:l}}